"use strict";(self.webpackChunkwallet_reactor=self.webpackChunkwallet_reactor||[]).push([[316],{9610:function(o,e,t){t.r(e),t.d(e,{default:function(){return lo}});var r=t(885),a=t(2791),n=t(2982),l=t(9434),c={tableWrap:"HomeTab_tableWrap__wldLt",scrollTableBody:"HomeTab_scrollTableBody__k4rOg",scrollTable:"HomeTab_scrollTable__e2cbs",tableWrapMob:"HomeTab_tableWrapMob__7DKqt",scrollTableBodyMob:"HomeTab_scrollTableBodyMob__+X8ln",scrollTableMob:"HomeTab_scrollTableMob__avbAf",tablePositive:"HomeTab_tablePositive__06bCy",positive:"HomeTab_positive__mmZ63",negative:"HomeTab_negative__pTkgl",scrollTableBtn:"HomeTab_scrollTableBtn__n5d6c",scrollTableBtnMob:"HomeTab_scrollTableBtnMob__gvIkC"},s=t(3553),i=t(5716),d=function(o){return o.transactionCategories.items},m=t(9620),u={ua:"\u0414\u0430\u0442\u0430",en:"Data"},h={ua:"\u0422\u0438\u043f",en:"Type"},b={ua:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440i\u044f",en:"Category"},v={ua:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",en:"Comment"},g={ua:"\u0421\u0443\u043c\u0430",en:"Sum"},_={ua:"\u0411\u0430\u043b\u0430\u043d\u0441",en:"Balance"},x={ua:"\u041d\u0435\u043c\u0430\u0454 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446i\u0439",en:"No transactions"},f=t(9628),j=t(9126),k=t(3255),p=t(9249),C=t(184),T=function(){var o=(0,l.v9)(s.ig),e=(0,l.v9)(d).map((function(o){return o})),t=(0,i.Z)("(max-width: 767px)"),r=(0,i.Z)("(min-width: 768px)"),T=(0,n.Z)(o),y=(0,l.v9)(m.V),N=u,w=h,A=b,M=v,D=g,S=_,F=x,E=(0,l.v9)(f.g),B=(0,l.I0)();(0,a.useEffect)((function(){B((0,k.mC)())}),[B]);var H=function(o){B((0,k.Ks)(o)),setTimeout((function(){B(p.r5.fetchCurrentUser())}),100)};return(0,C.jsxs)(C.Fragment,{children:[t&&(0,C.jsx)("div",{className:c.tableWrapMob,children:(0,C.jsx)("div",{className:c.scrollTableMob,children:(0,C.jsx)("div",{className:c.scrollTableBodyMob,children:0!==o.length?T.reverse().sort((function(o,e){return new Date(e.transactionDate)-new Date(o.transactionDate)})).map((function(o){return(0,C.jsx)("table",{className:o.amount>0?c.tablePositive:c.tableNegative,children:(0,C.jsxs)("tbody",{children:[(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:N[y]}),(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:o.transactionDate})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:w[y]}),(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:"EXPENSE"!==o.type?"+":"-"})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:A[y]}),(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:e.length&&e.find((function(e){return e.id===o.categoryId})).name})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:M[y]}),(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:o.comment})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:D[y]}),(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},className:o.amount>0?c.positive:c.negative,children:o.amount})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:S[y]}),(0,C.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:o.balanceAfter})]}),(0,C.jsx)("tr",{children:(0,C.jsx)("td",{colspan:"2",children:(0,C.jsx)("button",{type:"button",className:c.scrollTableBtnMob,onClick:function(){return H(o.id)},children:"Delete"})})})]})},o.id)})):(0,C.jsx)("p",{children:F[y]})})})}),r&&(0,C.jsx)("div",{className:c.tableWrap,children:(0,C.jsxs)("div",{className:c.scrollTable,children:[(0,C.jsx)("table",{children:(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:N[y]}),(0,C.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:w[y]}),(0,C.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:A[y]}),(0,C.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:M[y]}),(0,C.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:D[y]}),(0,C.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:S[y]}),(0,C.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"}})]})})}),(0,C.jsx)("div",{className:c.scrollTableBody,children:(0,C.jsx)("table",{children:(0,C.jsx)("tbody",{children:o.length?T.reverse().sort((function(o,e){return new Date(e.transactionDate)-new Date(o.transactionDate)})).map((function(o){return(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:o.transactionDate}),(0,C.jsx)("td",{children:"EXPENSE"!==o.type?"+":"-"}),(0,C.jsx)("td",{children:e.length&&e.find((function(e){return e.id===o.categoryId})).name}),(0,C.jsx)("td",{children:o.comment}),(0,C.jsx)("td",{className:o.amount>0?c.positive:c.negative,children:o.amount}),(0,C.jsx)("td",{children:o.balanceAfter}),(0,C.jsx)("td",{children:(0,C.jsx)("button",{type:"button",onClick:function(){return H(o.id)},className:c.scrollTableBtn,children:(0,C.jsx)(j.AuQ,{style:{fill:"#fff"}})})})]},o.id)})):(0,C.jsx)("tr",{children:(0,C.jsx)("td",{children:F[y]})})})})})]})})]})},y=function(o){var e=o.onModalOpen;return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("button",{onClick:e,type:"button",children:"Button Add Transactions"})})},N=t(1413),w=t(1799),A=t.n(w),M=(t(1778),t(2426)),D=t.n(M),S=t(9552),F="ModalAddTransaction_Overlay__vLRSS",E="ModalAddTransaction_Modal__TxV0p",B="ModalAddTransaction_container__ctH3d",H="ModalAddTransaction_hiddenInput__5li1C",I="ModalAddTransaction_thumbContainer__vmn7-",Z="ModalAddTransaction_thumb__m-wAw",O="ModalAddTransaction_track__ssBX2",L="FormAddTransaction_titleForm__IC8ko",W="FormAddTransaction_wraperSwitch__3mtec",P="FormAddTransaction_wraperAmountDate__OOS4P",X="FormAddTransaction_inputAmount__63lHt",Y="FormAddTransaction_inputDate__tfEr3",V="FormAddTransaction_commentLabel__sShDm",R="FormAddTransaction_inputComment__o60CH",U="FormAddTransaction_btnWraper__+vpSj",q="FormAddTransaction_btnAdd__2bF93",z="FormAddTransaction_btnCancel__L90Nx",G="FormAddTransaction_selectWraper__qzymS",K="FormAddTransaction_optionCustomWriper__DvYLe",J="FormAddTransaction_selectCustom__6vGV2",Q="FormAddTransaction_selectListWraper__ePJo1",$="FormAddTransaction_selectLabel__RbdGb",oo="FormAddTransaction_selectOptionItem__azR2X",eo={ua:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u0440\u0430\u043d\u0441\u0430\u043a\u0446i\u044e",en:"Add transaction"},to={ua:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",en:"Comment"},ro={ua:"\u0414\u043e\u0434\u0430\u0442\u0438",en:"ADD"},ao={ua:"\u0412i\u0434\u043ci\u043d\u0438\u0442\u0438",en:"CANCEL"},no=function(o){var e=o.closeModal,t=(0,l.I0)(),n=(0,l.v9)(d),c=(0,l.v9)(p.um.selectBalance),s=function(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,a.useState)(o),t=(0,r.Z)(e,2),n=t[0],l=t[1],c=function(){return l((function(o){return!o}))};return{isShowSelect:n,show:function(){return l(!0)},hide:function(){return l(!1)},toggleHook:c}}(),i=s.isShowSelect,u=s.toggleHook,h=(0,a.useState)(""),b=(0,r.Z)(h,2),v=b[0],g=b[1],_=(0,a.useState)(new Date),x=(0,r.Z)(_,2),j=x[0],T=x[1],y=(0,a.useState)(D()(j).format()),w=(0,r.Z)(y,2),M=w[0],no=w[1],lo=(0,a.useState)(""),co=(0,r.Z)(lo,2),so=co[0],io=co[1],mo=(0,a.useState)("INCOME"),uo=(0,r.Z)(mo,2),ho=uo[0],bo=uo[1],vo=(0,a.useState)("063f1132-ba5d-42b4-951d-44011ca46262"),go=(0,r.Z)(vo,2),_o=go[0],xo=go[1],fo=(0,a.useState)(""),jo=(0,r.Z)(fo,2),ko=jo[0],po=jo[1],Co=(0,a.useState)("false"),To=(0,r.Z)(Co,2),yo=To[0],No=To[1],wo=(0,l.v9)(m.V),Ao=eo,Mo=to,Do=ro,So=ao,Fo=(0,l.v9)(f.g);(0,a.useEffect)((function(){t((0,S.f)());var o=function(o){"Escape"===o.code&&e()};return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}),[e,t]);var Eo=function(o){t((0,k.dT)((0,N.Z)({},o)))},Bo=function(o){var e=o.target,t=e.name,r=e.value;switch(t){case"amount":g(r);break;case"transactionDate":no(r);break;case"comment":io(r);break;case"categoryId":xo(r);break;default:return}},Ho=function(){g(""),io("")},Io=function(o){console.log(o.currentTarget.value),xo(o.currentTarget.value),No(!0)};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{className:F,onClick:function(o){o.currentTarget===o.target&&e()},style:{backgroundColor:"light"===Fo?"":"var(--dark-mood-bg-color)",color:"light"===Fo?"var(--title-black-color)":"var(--text-white-color)"},children:(0,C.jsxs)("div",{className:E,style:{backgroundColor:"light"===Fo?"":"var(--dark-mood-addForm-color)"},children:[(0,C.jsx)("h2",{className:L,children:Ao[wo]}),(0,C.jsxs)("form",{autoComplete:"off",onSubmit:function(o){if(o.preventDefault(),i){if(v>c)return alert("\u0421\u0443\u043c\u043c\u0430 \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443");var e=-v;return console.log(e),Eo({type:ho,categoryId:_o,amount:e,transactionDate:M,comment:so}),Ho(),void t(p.r5.fetchCurrentUser())}Eo({type:ho,categoryId:_o,amount:v,transactionDate:M,comment:so}),t(p.r5.fetchCurrentUser()),Ho()},children:[(0,C.jsx)("div",{className:W,children:(0,C.jsxs)("label",{className:B,children:[(0,C.jsx)("input",{type:"checkbox",className:H,id:"hidden-input",name:"toggle",onClick:function(o){i&&(console.log(5),bo("INCOME"),xo("063f1132-ba5d-42b4-951d-44011ca46262"),console.log(ho),console.log(v)),i||(console.log(6),bo("EXPENSE"),console.log(ho)),u()}}),(0,C.jsx)("span",{className:I,children:(0,C.jsx)("span",{className:Z})}),(0,C.jsx)("span",{className:O})]})}),i&&(0,C.jsx)("div",{className:G,children:(0,C.jsxs)("ul",{className:Q,children:[(0,C.jsx)("input",{className:J,name:"categoryId",type:"button",onClick:function(){return No(!1)},value:ko}),!yo&&(0,C.jsx)("div",{className:K,children:n.filter((function(o){return"INCOME"!==o.type})).map((function(o){return(0,C.jsx)("li",{onClick:function(){return po(o.name)},children:(0,C.jsxs)("label",{className:$,children:["".concat(o.name),(0,C.jsx)("input",{className:oo,name:"categoryId",onClick:Io,onChange:Bo,value:"".concat(o.id)})]})},"".concat(o.id))}))})]})}),(0,C.jsxs)("div",{className:P,children:[(0,C.jsx)("label",{children:(0,C.jsx)("input",{className:X,name:"amount",min:"0",placeholder:"0.00",value:v,onChange:Bo})}),(0,C.jsx)(A(),{inputProps:{name:"transactionDate"},value:j,onChange:T,dateFormat:"YYYY-MM-DD",timeFormat:!1,onClose:function(o){return no(D()(o).format())},closeOnSelect:!0,onNavigate:function(o){return console.log(o)},className:Y,name:"transactionDate"})]}),(0,C.jsx)("label",{className:V,children:(0,C.jsx)("input",{style:{backgroundColor:"light"===Fo?"":"var(--dark-mood-addForm-color)"},className:R,type:"text",name:"comment",placeholder:Mo[wo],value:so,onChange:Bo})}),(0,C.jsxs)("div",{className:U,children:[(0,C.jsx)("button",{className:q,type:"submit",children:Do[wo]}),(0,C.jsx)("button",{className:z,type:"submit",children:So[wo]})]})]})]})})})},lo=function(){var o=(0,a.useState)(!1),e=(0,r.Z)(o,2),t=e[0],n=e[1];return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(T,{}),(0,C.jsx)(y,{onModalOpen:function(){n(!0)}}),t&&(0,C.jsx)(no,{closeModal:function(){n(!1)}})]})}}}]);
//# sourceMappingURL=316.0d28c340.chunk.js.map
"use strict";(self.webpackChunkwallet_reactor=self.webpackChunkwallet_reactor||[]).push([[793],{7284:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var a=t(885),r=t(2791),s=t(2982),o=t(9434),c={tableWrap:"HomeTab_tableWrap__wldLt",scrollTableBody:"HomeTab_scrollTableBody__k4rOg",scrollTable:"HomeTab_scrollTable__e2cbs",tableWrapMob:"HomeTab_tableWrapMob__7DKqt",scrollTableBodyMob:"HomeTab_scrollTableBodyMob__+X8ln",scrollTableMob:"HomeTab_scrollTableMob__avbAf",tablePositive:"HomeTab_tablePositive__06bCy",positive:"HomeTab_positive__mmZ63",negative:"HomeTab_negative__pTkgl"},l=t(3553),i=t(5716),d=function(e){return e.transactionCategories.items},m=t(184),u=function(){var e=(0,o.v9)(l.ig),n=(0,o.v9)(d).map((function(e){return e})),t=(0,i.Z)("(max-width: 767px)"),a=(0,i.Z)("(min-width: 768px)"),r=(0,s.Z)(e);return(0,m.jsxs)(m.Fragment,{children:[t&&(0,m.jsx)("div",{className:c.tableWrapMob,children:(0,m.jsx)("div",{className:c.scrollTableMob,children:(0,m.jsx)("div",{className:c.scrollTableBodyMob,children:0!==e.length?r.map((function(e){return(0,m.jsx)("table",{className:e.amount>0?c.tablePositive:c.tableNegative,children:(0,m.jsxs)("tbody",{children:[(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:"Data"}),(0,m.jsx)("td",{children:e.transactionDate})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:"Type"}),(0,m.jsx)("td",{children:"EXPENSE"!==e.type?"+":"-"})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:"Category"}),(0,m.jsx)("td",{children:n.length&&n.find((function(n){return n.id===e.categoryId})).name})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:"Comment"}),(0,m.jsx)("td",{children:e.comment})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:"Sum"}),(0,m.jsx)("td",{className:e.amount>0?c.positive:c.negative,children:e.amount})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:"Balance"}),(0,m.jsx)("td",{children:e.balanceAfter})]})]})},e.id)})):(0,m.jsx)("p",{children:"No transactions"})})})}),a&&(0,m.jsx)("div",{className:c.tableWrap,children:(0,m.jsxs)("div",{className:c.scrollTable,children:[(0,m.jsx)("table",{children:(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Date"}),(0,m.jsx)("th",{children:"Type"}),(0,m.jsx)("th",{children:"Category"}),(0,m.jsx)("th",{children:"Comment"}),(0,m.jsx)("th",{children:"Sum"}),(0,m.jsx)("th",{children:"Balance"})]})})}),(0,m.jsx)("div",{className:c.scrollTableBody,children:(0,m.jsx)("table",{children:(0,m.jsx)("tbody",{children:e.length?r.map((function(e){return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.transactionDate}),(0,m.jsx)("td",{children:"EXPENSE"!==e.type?"+":"-"}),(0,m.jsx)("td",{children:n.length&&n.find((function(n){return n.id===e.categoryId})).name}),(0,m.jsx)("td",{children:e.comment}),(0,m.jsx)("td",{className:e.amount>0?c.positive:c.negative,children:e.amount}),(0,m.jsx)("td",{children:e.balanceAfter})]},e.id)})):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{children:"No transactions"})})})})})]})})]})},h=function(e){var n=e.onModalOpen;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("button",{onClick:n,type:"button",children:"Button Add Transactions"})})},_=t(1413),x=t(9249),b=t(3255),j=t(1799),p=t.n(j),f=(t(1778),t(2426)),v=t.n(f),T=t(9552),g="ModalAddTransaction_Overlay__vLRSS",N="ModalAddTransaction_Modal__TxV0p",C="ModalAddTransaction_container__ctH3d",y="ModalAddTransaction_hiddenInput__5li1C",A="ModalAddTransaction_thumbContainer__vmn7-",S="ModalAddTransaction_thumb__m-wAw",M="ModalAddTransaction_track__ssBX2",F="FormAddTransaction_titleForm__IC8ko",k="FormAddTransaction_wraperSwitch__3mtec",w="FormAddTransaction_wraperAmountDate__OOS4P",D="FormAddTransaction_inputAmount__63lHt",E="FormAddTransaction_inputDate__tfEr3",Z="FormAddTransaction_commentLabel__sShDm",H="FormAddTransaction_inputComment__o60CH",I="FormAddTransaction_btnWraper__+vpSj",B="FormAddTransaction_btnAdd__2bF93",O="FormAddTransaction_btnCancel__L90Nx",L="FormAddTransaction_selectWraper__qzymS",W="FormAddTransaction_optionCustomWriper__DvYLe",P="FormAddTransaction_selectCustom__6vGV2",X="FormAddTransaction_selectListWraper__ePJo1",Y="FormAddTransaction_selectLabel__RbdGb",R="FormAddTransaction_selectOptionItem__azR2X",q=function(e){var n=e.closeModal,t=(0,o.I0)(),s=(0,o.v9)(d),c=(0,o.v9)(x.um.selectBalance),l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,r.useState)(e),t=(0,a.Z)(n,2),s=t[0],o=t[1],c=function(){return o((function(e){return!e}))};return{isShowSelect:s,show:function(){return o(!0)},hide:function(){return o(!1)},toggleHook:c}}(),i=l.isShowSelect,u=l.toggleHook,h=(0,r.useState)(""),j=(0,a.Z)(h,2),f=j[0],q=j[1],z=(0,r.useState)(new Date),G=(0,a.Z)(z,2),U=G[0],V=G[1],J=(0,r.useState)(v()(U).format()),K=(0,a.Z)(J,2),Q=K[0],$=K[1],ee=(0,r.useState)(""),ne=(0,a.Z)(ee,2),te=ne[0],ae=ne[1],re=(0,r.useState)("INCOME"),se=(0,a.Z)(re,2),oe=se[0],ce=se[1],le=(0,r.useState)("063f1132-ba5d-42b4-951d-44011ca46262"),ie=(0,a.Z)(le,2),de=ie[0],me=ie[1],ue=(0,r.useState)(""),he=(0,a.Z)(ue,2),_e=he[0],xe=he[1],be=(0,r.useState)("false"),je=(0,a.Z)(be,2),pe=je[0],fe=je[1];(0,r.useEffect)((function(){t((0,T.f)());var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n,t]);var ve=function(e){t((0,b.dT)((0,_.Z)({},e)))},Te=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"amount":q(a);break;case"transactionDate":$(a);break;case"comment":ae(a);break;case"categoryId":me(a);break;default:return}},ge=function(){q(""),ae("")},Ne=function(e){console.log(e.currentTarget.value),me(e.currentTarget.value),fe(!0)};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:g,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,m.jsxs)("div",{className:N,children:[(0,m.jsx)("h2",{className:F,children:"Add transaction"}),(0,m.jsxs)("form",{autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),i){if(f>c)return alert("\u0421\u0443\u043c\u043c\u0430 \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443");var n=-f;return console.log(n),ve({type:oe,categoryId:de,amount:n,transactionDate:Q,comment:te}),ge(),void t(x.r5.fetchCurrentUser())}ve({type:oe,categoryId:de,amount:f,transactionDate:Q,comment:te}),t(x.r5.fetchCurrentUser()),ge()},children:[(0,m.jsx)("div",{className:k,children:(0,m.jsxs)("label",{className:C,children:[(0,m.jsx)("input",{type:"checkbox",className:y,id:"hidden-input",name:"toggle",onClick:function(e){i&&(console.log(5),ce("INCOME"),me("063f1132-ba5d-42b4-951d-44011ca46262"),console.log(oe),console.log(f)),i||(console.log(6),ce("EXPENSE"),console.log(oe)),u()}}),(0,m.jsx)("span",{className:A,children:(0,m.jsx)("span",{className:S})}),(0,m.jsx)("span",{className:M})]})}),i&&(0,m.jsx)("div",{className:L,children:(0,m.jsxs)("ul",{className:X,children:[(0,m.jsx)("input",{className:P,name:"categoryId",type:"button",onClick:function(){return fe(!1)},value:_e}),!pe&&(0,m.jsx)("div",{className:W,children:s.filter((function(e){return"INCOME"!==e.type})).map((function(e){return(0,m.jsx)("li",{onClick:function(){return xe(e.name)},children:(0,m.jsxs)("label",{className:Y,children:["".concat(e.name),(0,m.jsx)("input",{className:R,name:"categoryId",onClick:Ne,onChange:Te,value:"".concat(e.id)})]})},"".concat(e.id))}))})]})}),(0,m.jsxs)("div",{className:w,children:[(0,m.jsx)("label",{children:(0,m.jsx)("input",{className:D,name:"amount",min:"0",placeholder:"0.00",value:f,onChange:Te})}),(0,m.jsx)(p(),{inputProps:{name:"transactionDate"},value:U,onChange:V,dateFormat:"YYYY-MM-DD",timeFormat:!1,onClose:function(e){return $(v()(e).format())},closeOnSelect:!0,onNavigate:function(e){return console.log(e)},className:E,name:"transactionDate"})]}),(0,m.jsx)("label",{className:Z,children:(0,m.jsx)("input",{className:H,type:"text",name:"comment",placeholder:"Comment",value:te,onChange:Te})}),(0,m.jsxs)("div",{className:I,children:[(0,m.jsx)("button",{className:B,type:"submit",children:"ADD"}),(0,m.jsx)("button",{className:O,type:"submit",children:"CANCEL"})]})]})]})})})},z=function(){var e=(0,r.useState)(!1),n=(0,a.Z)(e,2),t=n[0],s=n[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u,{}),(0,m.jsx)(h,{onModalOpen:function(){s(!0)}}),t&&(0,m.jsx)(q,{closeModal:function(){s(!1)}})]})}}}]);
//# sourceMappingURL=793.832611b6.chunk.js.map
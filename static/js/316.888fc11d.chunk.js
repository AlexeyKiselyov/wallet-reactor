"use strict";(self.webpackChunkwallet_reactor=self.webpackChunkwallet_reactor||[]).push([[316],{9610:function(e,n,t){t.r(n),t.d(n,{default:function(){return re}});var a=t(885),r=t(2791),s=t(2982),o=t(9434),c={tableWrap:"HomeTab_tableWrap__wldLt",scrollTableBody:"HomeTab_scrollTableBody__k4rOg",scrollTable:"HomeTab_scrollTable__e2cbs",tableWrapMob:"HomeTab_tableWrapMob__7DKqt",scrollTableBodyMob:"HomeTab_scrollTableBodyMob__+X8ln",scrollTableMob:"HomeTab_scrollTableMob__avbAf",tablePositive:"HomeTab_tablePositive__06bCy",positive:"HomeTab_positive__mmZ63",negative:"HomeTab_negative__pTkgl"},l=t(3553),i=t(5716),d=function(e){return e.transactionCategories.items},u=t(9620),m={ua:"\u0414\u0430\u0442\u0430",en:"Data"},h={ua:"\u0422\u0438\u043f",en:"Type"},_={ua:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440i\u044f",en:"Category"},x={ua:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",en:"Comment"},b={ua:"\u0421\u0443\u043c\u0430",en:"Sum"},j={ua:"\u0411\u0430\u043b\u0430\u043d\u0441",en:"Balance"},p={ua:"\u041d\u0435\u043c\u0430\u0454 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446i\u0439",en:"No transactions"},f=t(184),v=function(){var e=(0,o.v9)(l.ig),n=(0,o.v9)(d).map((function(e){return e})),t=(0,i.Z)("(max-width: 767px)"),a=(0,i.Z)("(min-width: 768px)"),r=(0,s.Z)(e),v=(0,o.v9)(u.V),T=m,g=h,N=_,A=x,C=b,y=j,S=p;return(0,f.jsxs)(f.Fragment,{children:[t&&(0,f.jsx)("div",{className:c.tableWrapMob,children:(0,f.jsx)("div",{className:c.scrollTableMob,children:(0,f.jsx)("div",{className:c.scrollTableBodyMob,children:0!==e.length?r.map((function(e){return(0,f.jsx)("table",{className:e.amount>0?c.tablePositive:c.tableNegative,children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:T[v]}),(0,f.jsx)("td",{children:e.transactionDate})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:g[v]}),(0,f.jsx)("td",{children:"EXPENSE"!==e.type?"+":"-"})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:N[v]}),(0,f.jsx)("td",{children:n.length&&n.find((function(n){return n.id===e.categoryId})).name})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:A[v]}),(0,f.jsx)("td",{children:e.comment})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:C[v]}),(0,f.jsx)("td",{className:e.amount>0?c.positive:c.negative,children:e.amount})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:y[v]}),(0,f.jsx)("td",{children:e.balanceAfter})]})]})},e.id)})):(0,f.jsx)("p",{children:S[v]})})})}),a&&(0,f.jsx)("div",{className:c.tableWrap,children:(0,f.jsxs)("div",{className:c.scrollTable,children:[(0,f.jsx)("table",{children:(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:T[v]}),(0,f.jsx)("th",{children:g[v]}),(0,f.jsx)("th",{children:N[v]}),(0,f.jsx)("th",{children:A[v]}),(0,f.jsx)("th",{children:C[v]}),(0,f.jsx)("th",{children:y[v]})]})})}),(0,f.jsx)("div",{className:c.scrollTableBody,children:(0,f.jsx)("table",{children:(0,f.jsx)("tbody",{children:e.length?r.sort((function(e,n){return new Date(n.transactionDate)-new Date(e.transactionDate)})).map((function(e){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:e.transactionDate}),(0,f.jsx)("td",{children:"EXPENSE"!==e.type?"+":"-"}),(0,f.jsx)("td",{children:n.length&&n.find((function(n){return n.id===e.categoryId})).name}),(0,f.jsx)("td",{children:e.comment}),(0,f.jsx)("td",{className:e.amount>0?c.positive:c.negative,children:e.amount}),(0,f.jsx)("td",{children:e.balanceAfter})]},e.id)})):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{children:S[v]})})})})})]})})]})},T=function(e){var n=e.onModalOpen;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("button",{onClick:n,type:"button",children:"Button Add Transactions"})})},g=t(1413),N=t(9249),A=t(3255),C=t(1799),y=t.n(C),S=(t(1778),t(2426)),M=t.n(S),w=t(9552),F="ModalAddTransaction_Overlay__vLRSS",k="ModalAddTransaction_Modal__TxV0p",D="ModalAddTransaction_container__ctH3d",E="ModalAddTransaction_hiddenInput__5li1C",Z="ModalAddTransaction_thumbContainer__vmn7-",H="ModalAddTransaction_thumb__m-wAw",I="ModalAddTransaction_track__ssBX2",O="FormAddTransaction_titleForm__IC8ko",B="FormAddTransaction_wraperSwitch__3mtec",L="FormAddTransaction_wraperAmountDate__OOS4P",W="FormAddTransaction_inputAmount__63lHt",P="FormAddTransaction_inputDate__tfEr3",X="FormAddTransaction_commentLabel__sShDm",Y="FormAddTransaction_inputComment__o60CH",V="FormAddTransaction_btnWraper__+vpSj",R="FormAddTransaction_btnAdd__2bF93",q="FormAddTransaction_btnCancel__L90Nx",z="FormAddTransaction_selectWraper__qzymS",G="FormAddTransaction_optionCustomWriper__DvYLe",U="FormAddTransaction_selectCustom__6vGV2",J="FormAddTransaction_selectListWraper__ePJo1",K="FormAddTransaction_selectLabel__RbdGb",Q="FormAddTransaction_selectOptionItem__azR2X",$={ua:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u0440\u0430\u043d\u0441\u0430\u043a\u0446i\u044e",en:"Add transaction"},ee={ua:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",en:"Comment"},ne={ua:"\u0414\u043e\u0434\u0430\u0442\u0438",en:"ADD"},te={ua:"\u0412i\u0434\u043ci\u043d\u0438\u0442\u0438",en:"CANCEL"},ae=function(e){var n=e.closeModal,t=(0,o.I0)(),s=(0,o.v9)(d),c=(0,o.v9)(N.um.selectBalance),l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,r.useState)(e),t=(0,a.Z)(n,2),s=t[0],o=t[1],c=function(){return o((function(e){return!e}))};return{isShowSelect:s,show:function(){return o(!0)},hide:function(){return o(!1)},toggleHook:c}}(),i=l.isShowSelect,m=l.toggleHook,h=(0,r.useState)(""),_=(0,a.Z)(h,2),x=_[0],b=_[1],j=(0,r.useState)(new Date),p=(0,a.Z)(j,2),v=p[0],T=p[1],C=(0,r.useState)(M()(v).format()),S=(0,a.Z)(C,2),ae=S[0],re=S[1],se=(0,r.useState)(""),oe=(0,a.Z)(se,2),ce=oe[0],le=oe[1],ie=(0,r.useState)("INCOME"),de=(0,a.Z)(ie,2),ue=de[0],me=de[1],he=(0,r.useState)("063f1132-ba5d-42b4-951d-44011ca46262"),_e=(0,a.Z)(he,2),xe=_e[0],be=_e[1],je=(0,r.useState)(""),pe=(0,a.Z)(je,2),fe=pe[0],ve=pe[1],Te=(0,r.useState)("false"),ge=(0,a.Z)(Te,2),Ne=ge[0],Ae=ge[1],Ce=(0,o.v9)(u.V),ye=$,Se=ee,Me=ne,we=te;(0,r.useEffect)((function(){t((0,w.f)());var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n,t]);var Fe=function(e){t((0,A.dT)((0,g.Z)({},e)))},ke=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"amount":b(a);break;case"transactionDate":re(a);break;case"comment":le(a);break;case"categoryId":be(a);break;default:return}},De=function(){b(""),le("")},Ee=function(e){console.log(e.currentTarget.value),be(e.currentTarget.value),Ae(!0)};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:F,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,f.jsxs)("div",{className:k,children:[(0,f.jsx)("h2",{className:O,children:ye[Ce]}),(0,f.jsxs)("form",{autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),i){if(x>c)return alert("\u0421\u0443\u043c\u043c\u0430 \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443");var n=-x;return console.log(n),Fe({type:ue,categoryId:xe,amount:n,transactionDate:ae,comment:ce}),De(),void t(N.r5.fetchCurrentUser())}Fe({type:ue,categoryId:xe,amount:x,transactionDate:ae,comment:ce}),t(N.r5.fetchCurrentUser()),De()},children:[(0,f.jsx)("div",{className:B,children:(0,f.jsxs)("label",{className:D,children:[(0,f.jsx)("input",{type:"checkbox",className:E,id:"hidden-input",name:"toggle",onClick:function(e){i&&(console.log(5),me("INCOME"),be("063f1132-ba5d-42b4-951d-44011ca46262"),console.log(ue),console.log(x)),i||(console.log(6),me("EXPENSE"),console.log(ue)),m()}}),(0,f.jsx)("span",{className:Z,children:(0,f.jsx)("span",{className:H})}),(0,f.jsx)("span",{className:I})]})}),i&&(0,f.jsx)("div",{className:z,children:(0,f.jsxs)("ul",{className:J,children:[(0,f.jsx)("input",{className:U,name:"categoryId",type:"button",onClick:function(){return Ae(!1)},value:fe}),!Ne&&(0,f.jsx)("div",{className:G,children:s.filter((function(e){return"INCOME"!==e.type})).map((function(e){return(0,f.jsx)("li",{onClick:function(){return ve(e.name)},children:(0,f.jsxs)("label",{className:K,children:["".concat(e.name),(0,f.jsx)("input",{className:Q,name:"categoryId",onClick:Ee,onChange:ke,value:"".concat(e.id)})]})},"".concat(e.id))}))})]})}),(0,f.jsxs)("div",{className:L,children:[(0,f.jsx)("label",{children:(0,f.jsx)("input",{className:W,name:"amount",min:"0",placeholder:"0.00",value:x,onChange:ke})}),(0,f.jsx)(y(),{inputProps:{name:"transactionDate"},value:v,onChange:T,dateFormat:"YYYY-MM-DD",timeFormat:!1,onClose:function(e){return re(M()(e).format())},closeOnSelect:!0,onNavigate:function(e){return console.log(e)},className:P,name:"transactionDate"})]}),(0,f.jsx)("label",{className:X,children:(0,f.jsx)("input",{className:Y,type:"text",name:"comment",placeholder:Se[Ce],value:ce,onChange:ke})}),(0,f.jsxs)("div",{className:V,children:[(0,f.jsx)("button",{className:R,type:"submit",children:Me[Ce]}),(0,f.jsx)("button",{className:q,type:"submit",children:we[Ce]})]})]})]})})})},re=function(){var e=(0,r.useState)(!1),n=(0,a.Z)(e,2),t=n[0],s=n[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(v,{}),(0,f.jsx)(T,{onModalOpen:function(){s(!0)}}),t&&(0,f.jsx)(ae,{closeModal:function(){s(!1)}})]})}}}]);
//# sourceMappingURL=316.888fc11d.chunk.js.map
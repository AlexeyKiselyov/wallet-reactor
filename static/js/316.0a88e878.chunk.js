"use strict";(self.webpackChunkwallet_reactor=self.webpackChunkwallet_reactor||[]).push([[316],{9610:function(e,t,o){o.r(t),o.d(t,{default:function(){return ne}});var a=o(885),r=o(2791),n=o(2982),l=o(9434),c={tableWrap:"HomeTab_tableWrap__wldLt",scrollTableBody:"HomeTab_scrollTableBody__k4rOg",scrollTable:"HomeTab_scrollTable__e2cbs",tableWrapMob:"HomeTab_tableWrapMob__7DKqt",scrollTableBodyMob:"HomeTab_scrollTableBodyMob__+X8ln",scrollTableMob:"HomeTab_scrollTableMob__avbAf",tablePositive:"HomeTab_tablePositive__06bCy",positive:"HomeTab_positive__mmZ63",negative:"HomeTab_negative__pTkgl"},s=o(3553),i=o(5716),d=function(e){return e.transactionCategories.items},m=o(9620),u={ua:"\u0414\u0430\u0442\u0430",en:"Data"},h={ua:"\u0422\u0438\u043f",en:"Type"},b={ua:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440i\u044f",en:"Category"},_={ua:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",en:"Comment"},x={ua:"\u0421\u0443\u043c\u0430",en:"Sum"},v={ua:"\u0411\u0430\u043b\u0430\u043d\u0441",en:"Balance"},g={ua:"\u041d\u0435\u043c\u0430\u0454 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446i\u0439",en:"No transactions"},j=o(9628),f=o(184),p=function(){var e=(0,l.v9)(s.ig),t=(0,l.v9)(d).map((function(e){return e})),o=(0,i.Z)("(max-width: 767px)"),a=(0,i.Z)("(min-width: 768px)"),r=(0,n.Z)(e),p=(0,l.v9)(m.V),k=u,T=h,C=b,y=_,N=x,A=v,w=g,S=(0,l.v9)(j.g);return(0,f.jsxs)(f.Fragment,{children:[o&&(0,f.jsx)("div",{className:c.tableWrapMob,children:(0,f.jsx)("div",{className:c.scrollTableMob,children:(0,f.jsx)("div",{className:c.scrollTableBodyMob,children:0!==e.length?r.map((function(e){return(0,f.jsx)("table",{className:e.amount>0?c.tablePositive:c.tableNegative,children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)"},children:k[p]}),(0,f.jsx)("td",{children:e.transactionDate})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)"},children:T[p]}),(0,f.jsx)("td",{children:"EXPENSE"!==e.type?"+":"-"})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)"},children:C[p]}),(0,f.jsx)("td",{children:t.length&&t.find((function(t){return t.id===e.categoryId})).name})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)"},children:y[p]}),(0,f.jsx)("td",{children:e.comment})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)"},children:N[p]}),(0,f.jsx)("td",{className:e.amount>0?c.positive:c.negative,children:e.amount})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)"},children:A[p]}),(0,f.jsx)("td",{children:e.balanceAfter})]})]})},e.id)})):(0,f.jsx)("p",{children:w[p]})})})}),a&&(0,f.jsx)("div",{className:c.tableWrap,children:(0,f.jsxs)("div",{className:c.scrollTable,children:[(0,f.jsx)("table",{children:(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)",color:"light"===S?"var(--title-black-color)":"var(--text-white-color)"},children:k[p]}),(0,f.jsx)("th",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)",color:"light"===S?"var(--title-black-color)":"var(--text-white-color)"},children:T[p]}),(0,f.jsx)("th",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)",color:"light"===S?"var(--title-black-color)":"var(--text-white-color)"},children:C[p]}),(0,f.jsx)("th",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)",color:"light"===S?"var(--title-black-color)":"var(--text-white-color)"},children:y[p]}),(0,f.jsx)("th",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)",color:"light"===S?"var(--title-black-color)":"var(--text-white-color)"},children:N[p]}),(0,f.jsx)("th",{style:{backgroundColor:"light"===S?"":"var(--dark-mood-form-color)",color:"light"===S?"var(--title-black-color)":"var(--text-white-color)"},children:A[p]})]})})}),(0,f.jsx)("div",{className:c.scrollTableBody,children:(0,f.jsx)("table",{children:(0,f.jsx)("tbody",{children:e.length?r.sort((function(e,t){return new Date(t.transactionDate)-new Date(e.transactionDate)})).map((function(e){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:e.transactionDate}),(0,f.jsx)("td",{children:"EXPENSE"!==e.type?"+":"-"}),(0,f.jsx)("td",{children:t.length&&t.find((function(t){return t.id===e.categoryId})).name}),(0,f.jsx)("td",{children:e.comment}),(0,f.jsx)("td",{className:e.amount>0?c.positive:c.negative,children:e.amount}),(0,f.jsx)("td",{children:e.balanceAfter})]},e.id)})):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{children:w[p]})})})})})]})})]})},k=function(e){var t=e.onModalOpen;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("button",{onClick:t,type:"button",children:"Button Add Transactions"})})},T=o(1413),C=o(9249),y=o(3255),N=o(1799),A=o.n(N),w=(o(1778),o(2426)),S=o.n(w),F=o(9552),M="ModalAddTransaction_Overlay__vLRSS",D="ModalAddTransaction_Modal__TxV0p",E="ModalAddTransaction_container__ctH3d",Z="ModalAddTransaction_hiddenInput__5li1C",H="ModalAddTransaction_thumbContainer__vmn7-",I="ModalAddTransaction_thumb__m-wAw",O="ModalAddTransaction_track__ssBX2",B="FormAddTransaction_titleForm__IC8ko",L="FormAddTransaction_wraperSwitch__3mtec",W="FormAddTransaction_wraperAmountDate__OOS4P",P="FormAddTransaction_inputAmount__63lHt",X="FormAddTransaction_inputDate__tfEr3",Y="FormAddTransaction_commentLabel__sShDm",V="FormAddTransaction_inputComment__o60CH",R="FormAddTransaction_btnWraper__+vpSj",q="FormAddTransaction_btnAdd__2bF93",z="FormAddTransaction_btnCancel__L90Nx",G="FormAddTransaction_selectWraper__qzymS",U="FormAddTransaction_optionCustomWriper__DvYLe",J="FormAddTransaction_selectCustom__6vGV2",K="FormAddTransaction_selectListWraper__ePJo1",Q="FormAddTransaction_selectLabel__RbdGb",$="FormAddTransaction_selectOptionItem__azR2X",ee={ua:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u0440\u0430\u043d\u0441\u0430\u043a\u0446i\u044e",en:"Add transaction"},te={ua:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",en:"Comment"},oe={ua:"\u0414\u043e\u0434\u0430\u0442\u0438",en:"ADD"},ae={ua:"\u0412i\u0434\u043ci\u043d\u0438\u0442\u0438",en:"CANCEL"},re=function(e){var t=e.closeModal,o=(0,l.I0)(),n=(0,l.v9)(d),c=(0,l.v9)(C.um.selectBalance),s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,r.useState)(e),o=(0,a.Z)(t,2),n=o[0],l=o[1],c=function(){return l((function(e){return!e}))};return{isShowSelect:n,show:function(){return l(!0)},hide:function(){return l(!1)},toggleHook:c}}(),i=s.isShowSelect,u=s.toggleHook,h=(0,r.useState)(""),b=(0,a.Z)(h,2),_=b[0],x=b[1],v=(0,r.useState)(new Date),g=(0,a.Z)(v,2),p=g[0],k=g[1],N=(0,r.useState)(S()(p).format()),w=(0,a.Z)(N,2),re=w[0],ne=w[1],le=(0,r.useState)(""),ce=(0,a.Z)(le,2),se=ce[0],ie=ce[1],de=(0,r.useState)("INCOME"),me=(0,a.Z)(de,2),ue=me[0],he=me[1],be=(0,r.useState)("063f1132-ba5d-42b4-951d-44011ca46262"),_e=(0,a.Z)(be,2),xe=_e[0],ve=_e[1],ge=(0,r.useState)(""),je=(0,a.Z)(ge,2),fe=je[0],pe=je[1],ke=(0,r.useState)("false"),Te=(0,a.Z)(ke,2),Ce=Te[0],ye=Te[1],Ne=(0,l.v9)(m.V),Ae=ee,we=te,Se=oe,Fe=ae,Me=(0,l.v9)(j.g);(0,r.useEffect)((function(){o((0,F.f)());var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t,o]);var De=function(e){o((0,y.dT)((0,T.Z)({},e)))},Ee=function(e){var t=e.target,o=t.name,a=t.value;switch(o){case"amount":x(a);break;case"transactionDate":ne(a);break;case"comment":ie(a);break;case"categoryId":ve(a);break;default:return}},Ze=function(){x(""),ie("")},He=function(e){console.log(e.currentTarget.value),ve(e.currentTarget.value),ye(!0)};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:M,onClick:function(e){e.currentTarget===e.target&&t()},style:{backgroundColor:"light"===Me?"":"var(--dark-mood-bg-color)",color:"light"===Me?"var(--title-black-color)":"var(--text-white-color)"},children:(0,f.jsxs)("div",{className:D,style:{backgroundColor:"light"===Me?"":"var(--dark-mood-addForm-color)"},children:[(0,f.jsx)("h2",{className:B,children:Ae[Ne]}),(0,f.jsxs)("form",{autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),i){if(_>c)return alert("\u0421\u0443\u043c\u043c\u0430 \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443");var t=-_;return console.log(t),De({type:ue,categoryId:xe,amount:t,transactionDate:re,comment:se}),Ze(),void o(C.r5.fetchCurrentUser())}De({type:ue,categoryId:xe,amount:_,transactionDate:re,comment:se}),o(C.r5.fetchCurrentUser()),Ze()},children:[(0,f.jsx)("div",{className:L,children:(0,f.jsxs)("label",{className:E,children:[(0,f.jsx)("input",{type:"checkbox",className:Z,id:"hidden-input",name:"toggle",onClick:function(e){i&&(console.log(5),he("INCOME"),ve("063f1132-ba5d-42b4-951d-44011ca46262"),console.log(ue),console.log(_)),i||(console.log(6),he("EXPENSE"),console.log(ue)),u()}}),(0,f.jsx)("span",{className:H,children:(0,f.jsx)("span",{className:I})}),(0,f.jsx)("span",{className:O})]})}),i&&(0,f.jsx)("div",{className:G,children:(0,f.jsxs)("ul",{className:K,children:[(0,f.jsx)("input",{className:J,name:"categoryId",type:"button",onClick:function(){return ye(!1)},value:fe}),!Ce&&(0,f.jsx)("div",{className:U,children:n.filter((function(e){return"INCOME"!==e.type})).map((function(e){return(0,f.jsx)("li",{onClick:function(){return pe(e.name)},children:(0,f.jsxs)("label",{className:Q,children:["".concat(e.name),(0,f.jsx)("input",{className:$,name:"categoryId",onClick:He,onChange:Ee,value:"".concat(e.id)})]})},"".concat(e.id))}))})]})}),(0,f.jsxs)("div",{className:W,children:[(0,f.jsx)("label",{children:(0,f.jsx)("input",{className:P,name:"amount",min:"0",placeholder:"0.00",value:_,onChange:Ee})}),(0,f.jsx)(A(),{inputProps:{name:"transactionDate"},value:p,onChange:k,dateFormat:"YYYY-MM-DD",timeFormat:!1,onClose:function(e){return ne(S()(e).format())},closeOnSelect:!0,onNavigate:function(e){return console.log(e)},className:X,name:"transactionDate"})]}),(0,f.jsx)("label",{className:Y,children:(0,f.jsx)("input",{style:{backgroundColor:"light"===Me?"":"var(--dark-mood-addForm-color)"},className:V,type:"text",name:"comment",placeholder:we[Ne],value:se,onChange:Ee})}),(0,f.jsxs)("div",{className:R,children:[(0,f.jsx)("button",{className:q,type:"submit",children:Se[Ne]}),(0,f.jsx)("button",{className:z,type:"submit",children:Fe[Ne]})]})]})]})})})},ne=function(){var e=(0,r.useState)(!1),t=(0,a.Z)(e,2),o=t[0],n=t[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p,{}),(0,f.jsx)(k,{onModalOpen:function(){n(!0)}}),o&&(0,f.jsx)(re,{closeModal:function(){n(!1)}})]})}}}]);
//# sourceMappingURL=316.0a88e878.chunk.js.map
"use strict";(self.webpackChunkwallet_reactor=self.webpackChunkwallet_reactor||[]).push([[316],{9610:function(e,t,o){o.r(t),o.d(t,{default:function(){return re}});var a=o(885),n=o(2791),r=o(2982),l=o(9434),c={tableWrap:"HomeTab_tableWrap__wldLt",scrollTableBody:"HomeTab_scrollTableBody__k4rOg",scrollTable:"HomeTab_scrollTable__e2cbs",tableWrapMob:"HomeTab_tableWrapMob__7DKqt",scrollTableBodyMob:"HomeTab_scrollTableBodyMob__+X8ln",scrollTableMob:"HomeTab_scrollTableMob__avbAf",tablePositive:"HomeTab_tablePositive__06bCy",positive:"HomeTab_positive__mmZ63",negative:"HomeTab_negative__pTkgl",scrollTableBtn:"HomeTab_scrollTableBtn__n5d6c",scrollTableBtnMob:"HomeTab_scrollTableBtnMob__gvIkC"},s=o(3553),i=o(5716),d=function(e){return e.transactionCategories.items},u=o(9620),m={ua:"\u0414\u0430\u0442\u0430",en:"Data"},h={ua:"\u0422\u0438\u043f",en:"Type"},b={ua:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440i\u044f",en:"Category"},_={ua:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",en:"Comment"},x={ua:"\u0421\u0443\u043c\u0430",en:"Sum"},v={ua:"\u0411\u0430\u043b\u0430\u043d\u0441",en:"Balance"},g={ua:"\u041d\u0435\u043c\u0430\u0454 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446i\u0439",en:"No transactions"},j=o(9628),f=o(3255),p=o(9249),k=o(184),T=function(){var e=(0,l.v9)(s.ig),t=(0,l.v9)(d).map((function(e){return e})),o=(0,i.Z)("(max-width: 767px)"),a=(0,i.Z)("(min-width: 768px)"),T=(0,r.Z)(e),C=(0,l.I0)();(0,n.useEffect)((function(){C((0,f.mC)())}),[C]);var y=(0,l.v9)(u.V),N=m,w=h,A=b,D=_,M=x,S=v,F=g,E=(0,l.v9)(j.g),B=function(e){C((0,f.Ks)(e)),C(p.r5.fetchCurrentUser())};return(0,k.jsxs)(k.Fragment,{children:[o&&(0,k.jsx)("div",{className:c.tableWrapMob,children:(0,k.jsx)("div",{className:c.scrollTableMob,children:(0,k.jsx)("div",{className:c.scrollTableBodyMob,children:0!==e.length?T.sort((function(e,t){return new Date(t.transactionDate)-new Date(e.transactionDate)})).reverse().map((function(e){return(0,k.jsx)("table",{className:e.amount>0?c.tablePositive:c.tableNegative,children:(0,k.jsxs)("tbody",{children:[(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:N[y]}),(0,k.jsx)("td",{children:e.transactionDate})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:w[y]}),(0,k.jsx)("td",{children:"EXPENSE"!==e.type?"+":"-"})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:A[y]}),(0,k.jsx)("td",{children:t.length&&t.find((function(t){return t.id===e.categoryId})).name})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:D[y]}),(0,k.jsx)("td",{children:e.comment})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:M[y]}),(0,k.jsx)("td",{className:e.amount>0?c.positive:c.negative,children:e.amount})]}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:S[y]}),(0,k.jsx)("td",{children:e.balanceAfter})]}),(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colspan:"2",children:(0,k.jsx)("button",{type:"button",className:c.scrollTableBtnMob,onClick:function(){return B(e.id)},children:"Delete"})})})]})},e.id)})):(0,k.jsx)("p",{children:F[y]})})})}),a&&(0,k.jsx)("div",{className:c.tableWrap,children:(0,k.jsxs)("div",{className:c.scrollTable,children:[(0,k.jsx)("table",{children:(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:N[y]}),(0,k.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:w[y]}),(0,k.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:A[y]}),(0,k.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:D[y]}),(0,k.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:M[y]}),(0,k.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:S[y]}),(0,k.jsx)("th",{})]})})}),(0,k.jsx)("div",{className:c.scrollTableBody,children:(0,k.jsx)("table",{children:(0,k.jsx)("tbody",{children:e.length?T.sort((function(e,t){return new Date(t.transactionDate)-new Date(e.transactionDate)})).reverse().map((function(e){return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:e.transactionDate}),(0,k.jsx)("td",{children:"EXPENSE"!==e.type?"+":"-"}),(0,k.jsx)("td",{children:t.length&&t.find((function(t){return t.id===e.categoryId})).name}),(0,k.jsx)("td",{children:e.comment}),(0,k.jsx)("td",{className:e.amount>0?c.positive:c.negative,children:e.amount}),(0,k.jsx)("td",{children:e.balanceAfter}),(0,k.jsx)("td",{children:(0,k.jsx)("button",{type:"button",onClick:function(){return B(e.id)},className:c.scrollTableBtn,children:"Delete"})})]},e.id)})):(0,k.jsx)("tr",{children:(0,k.jsx)("td",{children:F[y]})})})})})]})})]})},C=function(e){var t=e.onModalOpen;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("button",{onClick:t,type:"button",children:"Button Add Transactions"})})},y=o(1413),N=o(1799),w=o.n(N),A=(o(1778),o(2426)),D=o.n(A),M=o(9552),S="ModalAddTransaction_Overlay__vLRSS",F="ModalAddTransaction_Modal__TxV0p",E="ModalAddTransaction_container__ctH3d",B="ModalAddTransaction_hiddenInput__5li1C",H="ModalAddTransaction_thumbContainer__vmn7-",I="ModalAddTransaction_thumb__m-wAw",Z="ModalAddTransaction_track__ssBX2",O="FormAddTransaction_titleForm__IC8ko",L="FormAddTransaction_wraperSwitch__3mtec",W="FormAddTransaction_wraperAmountDate__OOS4P",P="FormAddTransaction_inputAmount__63lHt",X="FormAddTransaction_inputDate__tfEr3",Y="FormAddTransaction_commentLabel__sShDm",V="FormAddTransaction_inputComment__o60CH",R="FormAddTransaction_btnWraper__+vpSj",U="FormAddTransaction_btnAdd__2bF93",q="FormAddTransaction_btnCancel__L90Nx",z="FormAddTransaction_selectWraper__qzymS",G="FormAddTransaction_optionCustomWriper__DvYLe",K="FormAddTransaction_selectCustom__6vGV2",J="FormAddTransaction_selectListWraper__ePJo1",Q="FormAddTransaction_selectLabel__RbdGb",$="FormAddTransaction_selectOptionItem__azR2X",ee={ua:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u0440\u0430\u043d\u0441\u0430\u043a\u0446i\u044e",en:"Add transaction"},te={ua:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",en:"Comment"},oe={ua:"\u0414\u043e\u0434\u0430\u0442\u0438",en:"ADD"},ae={ua:"\u0412i\u0434\u043ci\u043d\u0438\u0442\u0438",en:"CANCEL"},ne=function(e){var t=e.closeModal,o=(0,l.I0)(),r=(0,l.v9)(d),c=(0,l.v9)(p.um.selectBalance),s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,n.useState)(e),o=(0,a.Z)(t,2),r=o[0],l=o[1],c=function(){return l((function(e){return!e}))};return{isShowSelect:r,show:function(){return l(!0)},hide:function(){return l(!1)},toggleHook:c}}(),i=s.isShowSelect,m=s.toggleHook,h=(0,n.useState)(""),b=(0,a.Z)(h,2),_=b[0],x=b[1],v=(0,n.useState)(new Date),g=(0,a.Z)(v,2),T=g[0],C=g[1],N=(0,n.useState)(D()(T).format()),A=(0,a.Z)(N,2),ne=A[0],re=A[1],le=(0,n.useState)(""),ce=(0,a.Z)(le,2),se=ce[0],ie=ce[1],de=(0,n.useState)("INCOME"),ue=(0,a.Z)(de,2),me=ue[0],he=ue[1],be=(0,n.useState)("063f1132-ba5d-42b4-951d-44011ca46262"),_e=(0,a.Z)(be,2),xe=_e[0],ve=_e[1],ge=(0,n.useState)(""),je=(0,a.Z)(ge,2),fe=je[0],pe=je[1],ke=(0,n.useState)("false"),Te=(0,a.Z)(ke,2),Ce=Te[0],ye=Te[1],Ne=(0,l.v9)(u.V),we=ee,Ae=te,De=oe,Me=ae,Se=(0,l.v9)(j.g);(0,n.useEffect)((function(){o((0,M.f)());var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t,o]);var Fe=function(e){o((0,f.dT)((0,y.Z)({},e)))},Ee=function(e){var t=e.target,o=t.name,a=t.value;switch(o){case"amount":x(a);break;case"transactionDate":re(a);break;case"comment":ie(a);break;case"categoryId":ve(a);break;default:return}},Be=function(){x(""),ie("")},He=function(e){console.log(e.currentTarget.value),ve(e.currentTarget.value),ye(!0)};return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:S,onClick:function(e){e.currentTarget===e.target&&t()},style:{backgroundColor:"light"===Se?"":"var(--dark-mood-bg-color)",color:"light"===Se?"var(--title-black-color)":"var(--text-white-color)"},children:(0,k.jsxs)("div",{className:F,style:{backgroundColor:"light"===Se?"":"var(--dark-mood-addForm-color)"},children:[(0,k.jsx)("h2",{className:O,children:we[Ne]}),(0,k.jsxs)("form",{autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),i){if(_>c)return alert("\u0421\u0443\u043c\u043c\u0430 \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443");var t=-_;return console.log(t),Fe({type:me,categoryId:xe,amount:t,transactionDate:ne,comment:se}),Be(),void o(p.r5.fetchCurrentUser())}Fe({type:me,categoryId:xe,amount:_,transactionDate:ne,comment:se}),o(p.r5.fetchCurrentUser()),Be()},children:[(0,k.jsx)("div",{className:L,children:(0,k.jsxs)("label",{className:E,children:[(0,k.jsx)("input",{type:"checkbox",className:B,id:"hidden-input",name:"toggle",onClick:function(e){i&&(console.log(5),he("INCOME"),ve("063f1132-ba5d-42b4-951d-44011ca46262"),console.log(me),console.log(_)),i||(console.log(6),he("EXPENSE"),console.log(me)),m()}}),(0,k.jsx)("span",{className:H,children:(0,k.jsx)("span",{className:I})}),(0,k.jsx)("span",{className:Z})]})}),i&&(0,k.jsx)("div",{className:z,children:(0,k.jsxs)("ul",{className:J,children:[(0,k.jsx)("input",{className:K,name:"categoryId",type:"button",onClick:function(){return ye(!1)},value:fe}),!Ce&&(0,k.jsx)("div",{className:G,children:r.filter((function(e){return"INCOME"!==e.type})).map((function(e){return(0,k.jsx)("li",{onClick:function(){return pe(e.name)},children:(0,k.jsxs)("label",{className:Q,children:["".concat(e.name),(0,k.jsx)("input",{className:$,name:"categoryId",onClick:He,onChange:Ee,value:"".concat(e.id)})]})},"".concat(e.id))}))})]})}),(0,k.jsxs)("div",{className:W,children:[(0,k.jsx)("label",{children:(0,k.jsx)("input",{className:P,name:"amount",min:"0",placeholder:"0.00",value:_,onChange:Ee})}),(0,k.jsx)(w(),{inputProps:{name:"transactionDate"},value:T,onChange:C,dateFormat:"YYYY-MM-DD",timeFormat:!1,onClose:function(e){return re(D()(e).format())},closeOnSelect:!0,onNavigate:function(e){return console.log(e)},className:X,name:"transactionDate"})]}),(0,k.jsx)("label",{className:Y,children:(0,k.jsx)("input",{style:{backgroundColor:"light"===Se?"":"var(--dark-mood-addForm-color)"},className:V,type:"text",name:"comment",placeholder:Ae[Ne],value:se,onChange:Ee})}),(0,k.jsxs)("div",{className:R,children:[(0,k.jsx)("button",{className:U,type:"submit",children:De[Ne]}),(0,k.jsx)("button",{className:q,type:"submit",children:Me[Ne]})]})]})]})})})},re=function(){var e=(0,n.useState)(!1),t=(0,a.Z)(e,2),o=t[0],r=t[1];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(T,{}),(0,k.jsx)(C,{onModalOpen:function(){r(!0)}}),o&&(0,k.jsx)(ne,{closeModal:function(){r(!1)}})]})}}}]);
//# sourceMappingURL=316.325d7118.chunk.js.map
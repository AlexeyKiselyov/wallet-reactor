"use strict";(self.webpackChunkwallet_reactor=self.webpackChunkwallet_reactor||[]).push([[991],{4335:function(e,t,o){o.r(t),o.d(t,{default:function(){return U}});var r=o(885),a=o(2791),n=o(2982),l=o(9434),c={tableWrap:"HomeTab_tableWrap__wldLt",scrollTableBody:"HomeTab_scrollTableBody__k4rOg",scrollTable:"HomeTab_scrollTable__e2cbs",tableWrapMob:"HomeTab_tableWrapMob__7DKqt",scrollTableBodyMob:"HomeTab_scrollTableBodyMob__+X8ln",scrollTableMob:"HomeTab_scrollTableMob__avbAf",tablePositive:"HomeTab_tablePositive__06bCy",positive:"HomeTab_positive__mmZ63",negative:"HomeTab_negative__pTkgl",scrollTableBtn:"HomeTab_scrollTableBtn__n5d6c",scrollTableBtnMob:"HomeTab_scrollTableBtnMob__gvIkC"},s=o(3553),i=o(5716),d=function(e){return e.transactionCategories.items},m=o(9620),u={ua:"\u0414\u0430\u0442\u0430",en:"Data"},h={ua:"\u0422\u0438\u043f",en:"Type"},b={ua:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440i\u044f",en:"Category"},_={ua:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",en:"Comment"},v={ua:"\u0421\u0443\u043c\u0430",en:"Sum"},x={ua:"\u0411\u0430\u043b\u0430\u043d\u0441",en:"Balance"},g={ua:"\u041d\u0435\u043c\u0430\u0454 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446i\u0439",en:"No transactions"},p=o(9628),f=o(9126),j=o(3255),k=o(188),y=o(184),T=function(){var e=(0,l.v9)(s.ig),t=(0,l.v9)(d).map((function(e){return e})),o=(0,i.Z)("(max-width: 767px)"),r=(0,i.Z)("(min-width: 768px)"),a=(0,n.Z)(e),T=(0,l.I0)(),C=(0,l.v9)(m.V),A=u,N=h,w=b,S=_,M=v,D=x,F=g,E=(0,l.v9)(p.g),I=function(e,t){T((0,j.Ks)(e)),T((0,k.o)(t))};return(0,y.jsxs)(y.Fragment,{children:[o&&(0,y.jsx)("div",{className:c.tableWrapMob,children:(0,y.jsx)("div",{className:c.scrollTableMob,children:(0,y.jsx)("div",{className:c.scrollTableBodyMob,children:0!==e.length?a.reverse().sort((function(e,t){return new Date(t.transactionDate)-new Date(e.transactionDate)})).map((function(e){return(0,y.jsx)("table",{className:e.amount>0?c.tablePositive:c.tableNegative,children:(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:A[C]}),(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:e.transactionDate})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:N[C]}),(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:"EXPENSE"!==e.type?"+":"-"})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:w[C]}),(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:t.length&&t.find((function(t){return t.id===e.categoryId})).name})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:S[C]}),(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:e.comment})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:M[C]}),(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},className:e.amount>0?c.positive:c.negative,children:e.amount})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:D[C]}),(0,y.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:e.balanceAfter})]}),(0,y.jsx)("tr",{children:(0,y.jsx)("td",{colspan:"2",children:(0,y.jsx)("button",{type:"button",className:c.scrollTableBtnMob,onClick:function(){return I(e.id)},children:"Delete"})})})]})},e.id)})):(0,y.jsx)("p",{style:{color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:F[C]})})})}),r&&(0,y.jsx)("div",{className:c.tableWrap,children:(0,y.jsxs)("div",{className:c.scrollTable,children:[(0,y.jsx)("table",{children:(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:A[C]}),(0,y.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:N[C]}),(0,y.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:w[C]}),(0,y.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:S[C]}),(0,y.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:M[C]}),(0,y.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:D[C]}),(0,y.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"}})]})})}),(0,y.jsx)("div",{className:c.scrollTableBody,children:(0,y.jsx)("table",{children:(0,y.jsx)("tbody",{children:e.length?a.reverse().sort((function(e,t){return new Date(t.transactionDate)-new Date(e.transactionDate)})).map((function(e){return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:e.transactionDate}),(0,y.jsx)("td",{children:"EXPENSE"!==e.type?"+":"-"}),(0,y.jsx)("td",{children:t.length&&t.find((function(t){return t.id===e.categoryId})).name}),(0,y.jsx)("td",{children:e.comment}),(0,y.jsx)("td",{className:e.amount>0?c.positive:c.negative,children:e.amount}),(0,y.jsx)("td",{children:e.balanceAfter}),(0,y.jsx)("td",{children:(0,y.jsx)("button",{type:"button",onClick:function(){return I(e.id,e.amount)},className:c.scrollTableBtn,children:(0,y.jsx)(f.AuQ,{style:{fill:"#fff"}})})})]},e.id)})):(0,y.jsx)("tr",{children:(0,y.jsx)("td",{style:{color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:F[C]})})})})})]})})]})},C="ButtonAddTransactions_btnAddTransaction__+CJj6",A=function(e){var t=e.onModalOpen;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("button",{className:C,onClick:t,type:"button"})})},N=o(1413),w=o(2426),S=o.n(w),M=o(1799),D=o.n(M),F=(o(1778),o(9085)),E=(o(5462),o(9869)),I=o(2083);function W(e){var t=new Date(e),o=""+(t.getMonth()+1),r=""+t.getDate(),a=t.getFullYear();return o.length<2&&(o="0"+o),r.length<2&&(r="0"+r),[a,o,r].join("-")}var B="ModalAddTransaction_Overlay__vLRSS",H="ModalAddTransaction_Modal__TxV0p",Z="ModalAddTransaction_btnClose__mAiFV",L="ModalAddTransaction_titleForm__zGvYK",O="ModalAddTransaction_wraperBtnSpan__lGDF5",P="ModalAddTransaction_spanText__6SaXA",Y="ModalAddTransaction_spanTextActive__QANdl",X="ModalAddTransaction_spanTextGreen__q8ThF",z="ModalAddTransaction_wraperSwitch__cw+un",G="ModalAddTransaction_container__ctH3d",K="ModalAddTransaction_hiddenInput__5li1C",V="ModalAddTransaction_thumbContainer__vmn7-",q="ModalAddTransaction_thumb__m-wAw",Q="ModalAddTransaction_track__ssBX2",R={selectType:"FormAddTransaction_selectType__cZDI0",selectWraper:"FormAddTransaction_selectWraper__qzymS",selectCustom:"FormAddTransaction_selectCustom__6vGV2",optionCustomWriper:"FormAddTransaction_optionCustomWriper__DvYLe",selectLabel:"FormAddTransaction_selectLabel__RbdGb",selectOptionItem:"FormAddTransaction_selectOptionItem__azR2X",wraperAmountDate:"FormAddTransaction_wraperAmountDate__OOS4P",inputAmount:"FormAddTransaction_inputAmount__63lHt",inputDate:"FormAddTransaction_inputDate__tfEr3",commentLabel:"FormAddTransaction_commentLabel__sShDm",inputComment:"FormAddTransaction_inputComment__o60CH",btnWraper:"FormAddTransaction_btnWraper__+vpSj",btnAdd:"FormAddTransaction_btnAdd__2bF93",btnCancel:"FormAddTransaction_btnCancel__L90Nx"},J=function(e){var t=e.closeModal,o=(0,l.I0)(),n=(0,l.v9)(d),c=(0,l.v9)(I.zh),s=(0,l.v9)(E.QM),i=function(){var e=(0,a.useState)(!1),t=(0,r.Z)(e,2),o=t[0],n=t[1];return{isShowSelect:o,show:function(){return n(!0)},hide:function(){return n(!1)},toggleHook:function(){return n((function(e){return!e}))}}}(),m=i.isShowSelect,u=i.toggleHook,h=(0,a.useState)(""),b=(0,r.Z)(h,2),_=b[0],v=b[1],x=(0,a.useState)(new Date),g=(0,r.Z)(x,2),f=g[0],T=g[1],C=(0,a.useState)(W(S()(f).format())),A=(0,r.Z)(C,2),w=A[0],M=A[1],J=(0,a.useState)(""),U=(0,r.Z)(J,2),$=U[0],ee=U[1],te=(0,a.useState)("INCOME"),oe=(0,r.Z)(te,2),re=oe[0],ae=oe[1],ne=(0,a.useState)("063f1132-ba5d-42b4-951d-44011ca46262"),le=(0,r.Z)(ne,2),ce=le[0],se=le[1],ie=(0,a.useState)(""),de=(0,r.Z)(ie,2),me=de[0],ue=de[1],he=(0,a.useState)("false"),be=(0,r.Z)(he,2),_e=be[0],ve=be[1],xe=(0,l.v9)(p.g);(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t,o]);var ge=function(e){o((0,j.dT)((0,N.Z)({},e)))},pe=function(e){var t=e.target,o=t.name,r=t.value;switch(o){case"amount":v(r);break;case"transactionDate":M(r);break;case"comment":ee(r);break;case"categoryId":se(r);break;default:return}},fe=function(){v(""),ee("")},je=function(e){if(e.preventDefault(),_<0)F.Am.warning("Amount must be only positive");else{var t=-_;if(m)return _&&ce?_>s?void F.Am.error("Sorry, your amount is more than the balance!"):(ge({type:re,categoryId:ce,amount:t,transactionDate:w,comment:$}),o((0,k.o)(_)),c?void F.Am.error("Sorry, ".concat(c," ")):(F.Am.success("Succes! Your amount has been successfully added!"),void fe())):void F.Am.error("Please, enter an amount and select category!");_?(ge({type:re,categoryId:ce,amount:_,transactionDate:w,comment:$}),o((0,k.o)(t)),c?F.Am.error("Sorry, ".concat(c," ")):(F.Am.success("Succes! Your amount has been successfully added!"),fe())):F.Am.error("Please, enter an amount!")}},ke=function(e){se(e.currentTarget.value),ve(!0)};return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:B,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,y.jsxs)("div",{className:H,style:{backgroundColor:"light"===xe?"":"var(--dark-mood-addForm-color)",color:"light"===xe?"var(--title-black-color)":"var(--text-white-color)"},children:[(0,y.jsx)("h2",{className:L,children:"Add transaction"}),(0,y.jsxs)("form",{autoComplete:"off",onSubmit:je,children:[(0,y.jsxs)("div",{className:O,children:[(0,y.jsx)("span",{className:m?P:X,children:"Income"}),(0,y.jsx)("div",{className:z,children:(0,y.jsxs)("label",{className:G,children:[(0,y.jsx)("input",{type:"checkbox",className:K,id:"hidden-input",name:"toggle",onClick:function(e){m&&(ae("INCOME"),se("063f1132-ba5d-42b4-951d-44011ca46262")),m||ae("EXPENSE"),u()}}),(0,y.jsx)("span",{className:V,children:(0,y.jsx)("span",{className:q})}),(0,y.jsx)("span",{className:Q})]})}),(0,y.jsx)("span",{className:m?Y:P,children:"Expense"})]}),m&&(0,y.jsx)("div",{className:R.selectWraper,children:(0,y.jsxs)("ul",{className:R.selectListWraper,children:[(0,y.jsx)("label",{children:(0,y.jsx)("input",{className:R.selectCustom,name:"categoryId",type:"text",placeholder:"Select a category",onClick:function(){return ve((function(e){return!e}))},value:me})}),!_e&&(0,y.jsx)("div",{className:R.optionCustomWriper,children:n.filter((function(e){return"INCOME"!==e.type})).map((function(e){return(0,y.jsx)("li",{onClick:function(){return ue(e.name)},children:(0,y.jsxs)("label",{className:R.selectLabel,children:["".concat(e.name),(0,y.jsx)("input",{className:R.selectOptionItem,name:"categoryId",onClick:ke,onChange:pe,value:"".concat(e.id)})]})},"".concat(e.id))}))})]})}),(0,y.jsxs)("div",{className:R.wraperAmountDate,children:[(0,y.jsx)("label",{children:(0,y.jsx)("input",{className:R.inputAmount,name:"amount",type:"number",min:"0",placeholder:"0.00",value:_,onChange:pe})}),(0,y.jsx)("div",{className:R.dateTimeWriper,children:(0,y.jsx)(D(),{className:R.inputDate,name:"transactionDate",value:f,onChange:T,dateFormat:"YYYY-MM-DD",timeFormat:!1,onClose:function(e){return M(W(S()(e).format()))},closeOnSelect:!0})})]}),(0,y.jsx)("label",{className:R.commentLabel,children:(0,y.jsx)("input",{className:R.inputComment,style:{backgroundColor:"light"===xe?"":"var(--dark-mood-form-color)",color:"light"===xe?"var(--title-black-color)":"var(--text-white-color)"},type:"text",name:"comment",placeholder:"Comment",value:$,onChange:pe})}),(0,y.jsxs)("div",{className:R.btnWraper,children:[(0,y.jsx)("button",{className:R.btnAdd,onClick:je,type:"submit",children:"ADD"}),(0,y.jsx)("button",{className:R.btnCancel,onClick:t,type:"button",children:"CANCEL"}),(0,y.jsx)("button",{className:Z,onClick:t,type:"button"})]})]})]})})})},U=function(){var e=(0,a.useState)(!1),t=(0,r.Z)(e,2),o=t[0],n=t[1];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(T,{}),(0,y.jsx)(A,{onModalOpen:function(){n(!0)}}),o&&(0,y.jsx)(J,{closeModal:function(){n(!1)}})]})}},2083:function(e,t,o){o.d(t,{Kk:function(){return l},cl:function(){return r},ip:function(){return n},zh:function(){return a}});var r=function(e){return e.trSummary.summary},a=function(e){return e.trSummary.error},n=function(e){return e.trSummary.expenseSummary},l=function(e){return e.trSummary.incomeSummary}}}]);
//# sourceMappingURL=991.99328b94.chunk.js.map
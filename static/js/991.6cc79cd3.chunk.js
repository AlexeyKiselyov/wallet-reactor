"use strict";(self.webpackChunkwallet_reactor=self.webpackChunkwallet_reactor||[]).push([[991],{4335:function(e,t,o){o.r(t),o.d(t,{default:function(){return R}});var a=o(885),r=o(2791),n=o(2982),l=o(9434),c={tableWrap:"HomeTab_tableWrap__wldLt",scrollTableBody:"HomeTab_scrollTableBody__k4rOg",scrollTable:"HomeTab_scrollTable__e2cbs",tableWrapMob:"HomeTab_tableWrapMob__7DKqt",scrollTableBodyMob:"HomeTab_scrollTableBodyMob__+X8ln",scrollTableMob:"HomeTab_scrollTableMob__avbAf",tablePositive:"HomeTab_tablePositive__06bCy",positive:"HomeTab_positive__mmZ63",negative:"HomeTab_negative__pTkgl",scrollTableBtn:"HomeTab_scrollTableBtn__n5d6c",scrollTableBtnMob:"HomeTab_scrollTableBtnMob__gvIkC"},s=o(3553),i=o(5716),d=function(e){return e.transactionCategories.items},m=o(9620),u={ua:"\u0414\u0430\u0442\u0430",en:"Data"},h={ua:"\u0422\u0438\u043f",en:"Type"},b={ua:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440i\u044f",en:"Category"},_={ua:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",en:"Comment"},x={ua:"\u0421\u0443\u043c\u0430",en:"Sum"},v={ua:"\u0411\u0430\u043b\u0430\u043d\u0441",en:"Balance"},g={ua:"\u041d\u0435\u043c\u0430\u0454 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446i\u0439",en:"No transactions"},p=o(9628),j=o(9126),f=o(3255),k=o(188),T=o(184),C=function(){var e=(0,l.v9)(s.ig),t=(0,l.v9)(d).map((function(e){return e})),o=(0,i.Z)("(max-width: 767px)"),a=(0,i.Z)("(min-width: 768px)"),r=(0,n.Z)(e),C=(0,l.I0)(),y=(0,l.v9)(m.V),A=u,N=h,w=b,M=_,D=x,S=v,F=g,E=(0,l.v9)(p.g),I=function(e,t){C((0,f.Ks)(e)),C((0,k.o)(t))};return(0,T.jsxs)(T.Fragment,{children:[o&&(0,T.jsx)("div",{className:c.tableWrapMob,children:(0,T.jsx)("div",{className:c.scrollTableMob,children:(0,T.jsx)("div",{className:c.scrollTableBodyMob,children:0!==e.length?r.reverse().sort((function(e,t){return new Date(t.transactionDate)-new Date(e.transactionDate)})).map((function(e){return(0,T.jsx)("table",{className:e.amount>0?c.tablePositive:c.tableNegative,children:(0,T.jsxs)("tbody",{children:[(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:A[y]}),(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:e.transactionDate})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:N[y]}),(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:"EXPENSE"!==e.type?"+":"-"})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:w[y]}),(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:t.length&&t.find((function(t){return t.id===e.categoryId})).name})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:M[y]}),(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:e.comment})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:D[y]}),(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},className:e.amount>0?c.positive:c.negative,children:e.amount})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:S[y]}),(0,T.jsx)("td",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"},children:e.balanceAfter})]}),(0,T.jsx)("tr",{children:(0,T.jsx)("td",{colspan:"2",children:(0,T.jsx)("button",{type:"button",className:c.scrollTableBtnMob,onClick:function(){return I(e.id)},children:"Delete"})})})]})},e.id)})):(0,T.jsx)("p",{style:{color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:F[y]})})})}),a&&(0,T.jsx)("div",{className:c.tableWrap,children:(0,T.jsxs)("div",{className:c.scrollTable,children:[(0,T.jsx)("table",{children:(0,T.jsx)("thead",{children:(0,T.jsxs)("tr",{children:[(0,T.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:A[y]}),(0,T.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:N[y]}),(0,T.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:w[y]}),(0,T.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:M[y]}),(0,T.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:D[y]}),(0,T.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)",color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:S[y]}),(0,T.jsx)("th",{style:{backgroundColor:"light"===E?"":"var(--dark-mood-form-color)"}})]})})}),(0,T.jsx)("div",{className:c.scrollTableBody,children:(0,T.jsx)("table",{children:(0,T.jsx)("tbody",{children:e.length?r.reverse().sort((function(e,t){return new Date(t.transactionDate)-new Date(e.transactionDate)})).map((function(e){return(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:e.transactionDate}),(0,T.jsx)("td",{children:"EXPENSE"!==e.type?"+":"-"}),(0,T.jsx)("td",{children:t.length&&t.find((function(t){return t.id===e.categoryId})).name}),(0,T.jsx)("td",{children:e.comment}),(0,T.jsx)("td",{className:e.amount>0?c.positive:c.negative,children:e.amount}),(0,T.jsx)("td",{children:e.balanceAfter}),(0,T.jsx)("td",{children:(0,T.jsx)("button",{type:"button",onClick:function(){return I(e.id,e.amount)},className:c.scrollTableBtn,children:(0,T.jsx)(j.AuQ,{style:{fill:"#fff"}})})})]},e.id)})):(0,T.jsx)("tr",{children:(0,T.jsx)("td",{style:{color:"light"===E?"var(--title-black-color)":"var(--text-white-color)"},children:F[y]})})})})})]})})]})},y="ButtonAddTransactions_btnAddTransaction__+CJj6",A=function(e){var t=e.onModalOpen;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("button",{className:y,onClick:t,type:"button"})})},N=o(1413),w=o(2426),M=o.n(w),D=o(1799),S=o.n(D),F=(o(1778),o(9869));function E(e){var t=new Date(e),o=""+(t.getMonth()+1),a=""+t.getDate(),r=t.getFullYear();return o.length<2&&(o="0"+o),a.length<2&&(a="0"+a),[r,o,a].join("-")}var I="ModalAddTransaction_Overlay__vLRSS",W="ModalAddTransaction_Modal__TxV0p",B="ModalAddTransaction_btnClose__mAiFV",H="ModalAddTransaction_titleForm__zGvYK",Z="ModalAddTransaction_wraperBtnSpan__lGDF5",L="ModalAddTransaction_spanText__6SaXA",O="ModalAddTransaction_spanTextActive__QANdl",P="ModalAddTransaction_spanTextGreen__q8ThF",X="ModalAddTransaction_wraperSwitch__cw+un",Y="ModalAddTransaction_container__ctH3d",G="ModalAddTransaction_hiddenInput__5li1C",V="ModalAddTransaction_thumbContainer__vmn7-",q="ModalAddTransaction_thumb__m-wAw",z="ModalAddTransaction_track__ssBX2",K={selectType:"FormAddTransaction_selectType__cZDI0",selectWraper:"FormAddTransaction_selectWraper__qzymS",selectCustom:"FormAddTransaction_selectCustom__6vGV2",optionCustomWriper:"FormAddTransaction_optionCustomWriper__DvYLe",selectLabel:"FormAddTransaction_selectLabel__RbdGb",selectOptionItem:"FormAddTransaction_selectOptionItem__azR2X",wraperAmountDate:"FormAddTransaction_wraperAmountDate__OOS4P",inputAmount:"FormAddTransaction_inputAmount__63lHt",inputDate:"FormAddTransaction_inputDate__tfEr3",commentLabel:"FormAddTransaction_commentLabel__sShDm",inputComment:"FormAddTransaction_inputComment__o60CH",btnWraper:"FormAddTransaction_btnWraper__+vpSj",btnAdd:"FormAddTransaction_btnAdd__2bF93",btnCancel:"FormAddTransaction_btnCancel__L90Nx"},Q=function(e){var t=e.closeModal,o=(0,l.I0)(),n=(0,l.v9)(d),c=(0,l.v9)(F.QM),s=function(){var e=(0,r.useState)(!1),t=(0,a.Z)(e,2),o=t[0],n=t[1];return{isShowSelect:o,show:function(){return n(!0)},hide:function(){return n(!1)},toggleHook:function(){return n((function(e){return!e}))}}}(),i=s.isShowSelect,m=s.toggleHook,u=(0,r.useState)(""),h=(0,a.Z)(u,2),b=h[0],_=h[1],x=(0,r.useState)(new Date),v=(0,a.Z)(x,2),g=v[0],j=v[1],C=(0,r.useState)(E(M()(g).format())),y=(0,a.Z)(C,2),A=y[0],w=y[1],D=(0,r.useState)(""),Q=(0,a.Z)(D,2),R=Q[0],J=Q[1],U=(0,r.useState)("INCOME"),$=(0,a.Z)(U,2),ee=$[0],te=$[1],oe=(0,r.useState)("063f1132-ba5d-42b4-951d-44011ca46262"),ae=(0,a.Z)(oe,2),re=ae[0],ne=ae[1],le=(0,r.useState)(""),ce=(0,a.Z)(le,2),se=ce[0],ie=ce[1],de=(0,r.useState)("false"),me=(0,a.Z)(de,2),ue=me[0],he=me[1],be=(0,l.v9)(p.g);(0,r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t,o]);var _e=function(e){o((0,f.dT)((0,N.Z)({},e)))},xe=function(e){var t=e.target,o=t.name,a=t.value;switch(o){case"amount":_(a);break;case"transactionDate":w(a);break;case"comment":J(a);break;case"categoryId":ne(a);break;default:return}},ve=function(e){e.preventDefault();var t=-b;if(i)return b>c?alert("\u0421\u0443\u043c\u043c\u0430 \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443"):(_e({type:ee,categoryId:re,amount:t,transactionDate:A,comment:R}),o((0,k.o)(b)),void ge());_e({type:ee,categoryId:re,amount:b,transactionDate:A,comment:R}),o((0,k.o)(t)),ge()},ge=function(){_(""),J("")},pe=function(e){console.log(e.currentTarget.value),ne(e.currentTarget.value),he(!0)};return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("div",{className:I,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,T.jsxs)("div",{className:W,style:{backgroundColor:"light"===be?"":"var(--dark-mood-addForm-color)",color:"light"===be?"var(--title-black-color)":"var(--text-white-color)"},children:[(0,T.jsx)("h2",{className:H,children:"Add transaction"}),(0,T.jsxs)("form",{autoComplete:"off",onSubmit:ve,children:[(0,T.jsxs)("div",{className:Z,children:[(0,T.jsx)("span",{className:i?L:P,children:"Income"}),(0,T.jsx)("div",{className:X,children:(0,T.jsxs)("label",{className:Y,children:[(0,T.jsx)("input",{type:"checkbox",className:G,id:"hidden-input",name:"toggle",onClick:function(e){i&&(te("INCOME"),ne("063f1132-ba5d-42b4-951d-44011ca46262")),i||te("EXPENSE"),m()}}),(0,T.jsx)("span",{className:V,children:(0,T.jsx)("span",{className:q})}),(0,T.jsx)("span",{className:z})]})}),(0,T.jsx)("span",{className:i?O:L,children:"Expense"})]}),i&&(0,T.jsx)("div",{className:K.selectWraper,children:(0,T.jsxs)("ul",{className:K.selectListWraper,children:[(0,T.jsx)("label",{children:(0,T.jsx)("input",{className:K.selectCustom,name:"categoryId",type:"text",placeholder:"Select a category",onClick:function(){return he(!1)},value:se})}),!ue&&(0,T.jsx)("div",{className:K.optionCustomWriper,children:n.filter((function(e){return"INCOME"!==e.type})).map((function(e){return(0,T.jsx)("li",{onClick:function(){return ie(e.name)},children:(0,T.jsxs)("label",{className:K.selectLabel,children:["".concat(e.name),(0,T.jsx)("input",{className:K.selectOptionItem,name:"categoryId",onClick:pe,onChange:xe,value:"".concat(e.id)})]})},"".concat(e.id))}))})]})}),(0,T.jsxs)("div",{className:K.wraperAmountDate,children:[(0,T.jsx)("label",{children:(0,T.jsx)("input",{className:K.inputAmount,name:"amount",type:"number",min:"0",placeholder:"0.00",value:b,onChange:xe})}),(0,T.jsx)("div",{className:K.dateTimeWriper,children:(0,T.jsx)(S(),{className:K.inputDate,name:"transactionDate",value:g,onChange:j,dateFormat:"YYYY-MM-DD",timeFormat:!1,onClose:function(e){return w(E(M()(e).format()))},closeOnSelect:!0})})]}),(0,T.jsx)("label",{className:K.commentLabel,children:(0,T.jsx)("input",{className:K.inputComment,style:{backgroundColor:"light"===be?"":"var(--dark-mood-form-color)",color:"light"===be?"var(--title-black-color)":"var(--text-white-color)"},type:"text",name:"comment",placeholder:"Comment",value:R,onChange:xe})}),(0,T.jsxs)("div",{className:K.btnWraper,children:[(0,T.jsx)("button",{className:K.btnAdd,onClick:ve,type:"submit",children:"ADD"}),(0,T.jsx)("button",{className:K.btnCancel,onClick:t,type:"button",children:"CANCEL"}),(0,T.jsx)("button",{className:B,onClick:t,type:"button"})]})]})]})})})},R=function(){var e=(0,r.useState)(!1),t=(0,a.Z)(e,2),o=t[0],n=t[1];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(C,{}),(0,T.jsx)(A,{onModalOpen:function(){n(!0)}}),o&&(0,T.jsx)(Q,{closeModal:function(){n(!1)}})]})}}}]);
//# sourceMappingURL=991.6cc79cd3.chunk.js.map